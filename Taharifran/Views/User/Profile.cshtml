@using Taharifran.Models
@using Microsoft.AspNet.Identity;
@using Microsoft.AspNet.Identity.EntityFramework;

@model UserIndexViewModel
@{
    ViewBag.Title = "Profile";
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Profile</title>
</head>
<body>
    <div>
        @{
            if (Request.IsAuthenticated)
            {
                var manager = new UserManager<ApplicationUser>(new UserStore<ApplicationUser>(new ApplicationDbContext()));
                var currentUser = manager.FindById(User.Identity.GetUserId());

                <p><h2>@currentUser.Firstname @currentUser.Lastname's Profilsida</h2></p>
                <dt><h2>Förnamn:</h2></dt>
                <dd><h4>@currentUser.Firstname</h4></dd>

                <dt><h2>Efternamn:</h2></dt>
                <dd><h4>@currentUser.Lastname</h4></dd>

                <dt><h2>Email:</h2></dt>
                <dd><h4>@currentUser.Email</h4></dd>
            }
        }

    </div>
    <div>

        <table>
            @foreach (var user in Model.Users)
            {

                <dl class="dl-horizontal">
                    <dt>Firstname:</dt>
                    <dd>@user.Firstname</dd>


                    <dt>Lastname</dt>
                    <dd>@user.Lastname</dd>

                </dl>
            }
        </table>
    </div>
</body>
</html>
